# Test: Quick Sale Flow
# Test adding quick sale items and logging sales
appId: host.exp.Exponent
---
- launchApp:
    clearState: true

# Skip onboarding
- runFlow:
    when:
      visible: "Track Every Sale"
    commands:
      - tapOn: "Skip"

# First, create an event to have something to quick-sell to
- tapOn: "New Event"
- tapOn:
    text: "e.g., Farmers Market Downtown"
- inputText: "Quick Sale Test Event"
- hideKeyboard
- scroll:
    direction: DOWN
- tapOn: "Create Event"

# Wait for event detail screen
- assertVisible: "Quick Sale Test Event"

# Open Quick Sale
- tapOn: "Quick Sale"
- assertVisible: "Quick Sale"
- assertVisible: "No quick sale items yet"

# Add a quick sale item
- tapOn: "+ Add Item"
- assertVisible: "Add Quick Item"

# Fill in quick item details
- tapOn:
    text: "e.g., Small Candle"
- inputText: "Test Product"
- hideKeyboard

- tapOn:
    text: "0.00"
    index: 0
- inputText: "15"
- hideKeyboard

- tapOn: "Save"

# Quick item should now appear
- assertVisible: "Test Product"
- assertVisible: "$15"

# Tap to make a quick sale
- tapOn: "Test Product"

# Session total should update
- assertVisible: "SESSION TOTAL"
- assertVisible: "$15"
